<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="common.css">
    <link rel="stylesheet" href="common_inputs.css">
    <link rel="stylesheet" href="btn_future.css">
    <link rel="stylesheet" href="home.css">
    <title>Utravel!</title>
</head>

<body>

    <div id="filters">
        <!-- Filters bar -->
        <form action="filter" method="POST" id="filterForm">
            <p id="fheader">Filters</p>
            <label for="air">Airline:</label><br><br>
            <input type="text" id="air" name="tag" placeholder="Write an airline..."><br> <br>

            <label for="priceMin" class="leftalign">Price Min:</label>
            <span id="priceMinText" class="rightalign">0</span><br>
            <input type="range" id="priceMin" name="priceMin" min="0" max="5000" step="0.1" value="0"><br>

            <label for="priceMax" class="leftalign">Price Max:</label>
            <span id="priceMaxText" class="rightalign">5</span><br>
            <input type="range" id="priceMax" name="priceMax" min="0" max="5000" step="0.1" value="5"><br><br>
            
            <label for="or">Origin&Destination:</label><br><br>
            <input type="text" id="or" name="tag" placeholder="Write origin..."><br>
            <input type="text" id="des" name="tag" placeholder="Write destination..."><br> <br>

            <div>
            <button type="button" class="inputbtnG" id="applyBtn" onclick="submitFiltersForm()">Apply</button>
            <button type="button" class="inputbtnG rightalign" id="clearBtn" onclick="submitDeleteFilters()">Clear</button>
            </div>
        </form>
        <form action="/delfilters" method="POST" id="delFiltersForm"></form>
    </div>

    <div id="recipes">
        <!-- Flights will be added here -->
    </div>

    <script>
        function recipeBtnFunc(btn) {
            window.location.href = ("/flight?id=" + btn.id);
        }

        //show filter's numbers
        let priceMin = document.getElementById("priceMinText");
        let priceMax = document.getElementById("priceMaxText");
        let origin = document.getElementById("or");
        let destination = document.getElementById("des");
        let airline = document.getElementById("air");

        function submitFiltersForm() {
            if (priceMin.valueAsNumber > priceMax.valueAsNumber) {
                alert("Rating min cannot be higher than it's max.");
                return;
            }
            document.getElementById("filterForm").submit();
        }
        function submitDeleteFilters() {
            document.getElementById("delFiltersForm").submit();
        }
    </script>
    <script src="Flight.js"></script>
    <script src="home.js"></script>
    <script src="filter.js"></script>
</body>

</html>